{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Valuation Modeling Library A lightweight Python library for valuation modeling , cashflow valuation , and interest rate risk analysis . This project is designed as a foundational valuation toolkit , focusing on clarity, correctness, and extensibility rather than heavy abstractions or opaque APIs. Features Yield Curves Spot yield curve representation Flat and linear curve construction Discount factor computation Parallel curve shifts (basis-point shocks) for DV01 analysis Cashflows Flexible cashflow streams over discrete periods Common cashflow patterns: level linear geometric growth arithmetic growth Present value using: flat interest rates yield curve discount factors Optional perpetuity tail valuation Fixed Income Instruments Level-coupon bond implementation Pricing using: flat yields yield curve discount factors Cashflow schedules Effective-interest amortization tables Duration (Macaulay) DV01 via parallel curve shifts Quick example from fixed_income import Yield, Bond # Build a flat yield curve curve = Yield(10) curve.set_flat_rate(1, 10, 4.0) # Define a bond bond = Bond( face=100, redemption=100, coupon_rate=5.0, maturity=10 ) # Price the bond and compute risk price = bond.price_by_df(curve) duration = bond.duration(curve) dv01 = bond.dv01(curve) print(price, duration, dv01) Documentation Curves \u2013 spot yield curves and discounting Cashflows \u2013 cashflow construction and valuation Instruments \u2013 fixed income instruments (currently bonds) Each module includes usage examples and mathematical definitions. Roadmap Planned extensions include: Zero-coupon bonds Floating-rate instruments Portfolio-level valuation and risk Alternative compounding conventions Additional curve construction methods Disclaimer This library is intended for educational and analytical purposes only . It is not production-grade financial software and should not be used for live trading or investment decisions.","title":"Home"},{"location":"#valuation-modeling-library","text":"A lightweight Python library for valuation modeling , cashflow valuation , and interest rate risk analysis . This project is designed as a foundational valuation toolkit , focusing on clarity, correctness, and extensibility rather than heavy abstractions or opaque APIs.","title":"Valuation Modeling Library"},{"location":"#features","text":"","title":"Features"},{"location":"#yield-curves","text":"Spot yield curve representation Flat and linear curve construction Discount factor computation Parallel curve shifts (basis-point shocks) for DV01 analysis","title":"Yield Curves"},{"location":"#cashflows","text":"Flexible cashflow streams over discrete periods Common cashflow patterns: level linear geometric growth arithmetic growth Present value using: flat interest rates yield curve discount factors Optional perpetuity tail valuation","title":"Cashflows"},{"location":"#fixed-income-instruments","text":"Level-coupon bond implementation Pricing using: flat yields yield curve discount factors Cashflow schedules Effective-interest amortization tables Duration (Macaulay) DV01 via parallel curve shifts","title":"Fixed Income Instruments"},{"location":"#quick-example","text":"from fixed_income import Yield, Bond # Build a flat yield curve curve = Yield(10) curve.set_flat_rate(1, 10, 4.0) # Define a bond bond = Bond( face=100, redemption=100, coupon_rate=5.0, maturity=10 ) # Price the bond and compute risk price = bond.price_by_df(curve) duration = bond.duration(curve) dv01 = bond.dv01(curve) print(price, duration, dv01)","title":"Quick example"},{"location":"#documentation","text":"Curves \u2013 spot yield curves and discounting Cashflows \u2013 cashflow construction and valuation Instruments \u2013 fixed income instruments (currently bonds) Each module includes usage examples and mathematical definitions.","title":"Documentation"},{"location":"#roadmap","text":"Planned extensions include: Zero-coupon bonds Floating-rate instruments Portfolio-level valuation and risk Alternative compounding conventions Additional curve construction methods","title":"Roadmap"},{"location":"#disclaimer","text":"This library is intended for educational and analytical purposes only . It is not production-grade financial software and should not be used for live trading or investment decisions.","title":"Disclaimer"},{"location":"api/cashflows/","text":"Cashflows This module provides a simple cash flow stream object for building and valuing cashflows over discrete periods. A CashFlowStream stores cashflows cf[t] for t = 0..n_periods and supports: setting cashflows by period filling common cashflow patterns (level, linear, geometric, arithmetic) present value using a flat interest rate present value using a spot yield curve ( Yield ) discount factors optional perpetuity tail valuation at the final period Quick start Create a level cashflow stream and compute PV at a flat rate from fixed_income import CashFlowStream cfs = CashFlowStream(n_periods=5) cfs.fill(100) # 100 each period (t=1..5) cfs.set_period(0, -450) # initial outflow at t=0 pv = cfs.pv(interest=5.0) # 5% flat annual rate print(pv) Build a linear cashflow stream (e.g. 100 \u2192 200) from fixed_income import CashFlowStream cfs = CashFlowStream(10) cfs.fill_linear( start_period=1, end_period=10, start_amt=100, end_amt=200 ) print(cfs.pv(interest=4.0)) Use a yield curve for discounting from fixed_income import Yield, CashFlowStream curve = Yield(10) curve.set_flat_rate(1, 10, 4.0) # 4% flat spot curve cfs = CashFlowStream(10) cfs.fill(100) cfs.set_period(0, -900) pv = cfs.pv_df(curve) print(pv) Perpetuity tail after the final period from fixed_income import CashFlowStream cfs = CashFlowStream(5) cfs.fill(50) cfs.set_period(0, -800) pv = cfs.pv_perpetuity(interest=6.0) print(pv) Notes Cashflows are stored for periods \\(t = 0 \\dots n_{\\text{periods}}\\) . \\(t = 0\\) is the valuation time (often an initial investment or price). \\(t \\ge 1\\) are future cashflows. Period indexing is 1-based for future periods, consistent with the yield curve module. All fill methods write cashflows into the internal array. If any period required for valuation is None , valuation will raise an error. Cashflow builders set_period(period, cashflow) Sets a single cashflow at a specific period. fill(cashflow) Fills every period \\(t = 1 \\dots n_{\\text{periods}}\\) with the same cashflow amount. fill_linear(start_period, end_period, start_amt, end_amt) Creates a linear ramp from start_amt to end_amt over the specified range (inclusive). Cashflows follow: \\[CF_t = CF_{\\text{start}} + m (t - \\text{start})\\] where: \\[m = \\dfrac{CF_{\\text{end}} - CF_{\\text{start}}}{\\text{end} - \\text{start}}\\] fill_geometric(start_period, end_period, start_amt, rate) Creates geometric growth cashflows. rate is entered as a percent (e.g. 3.0 means 3%). Cashflows follow: \\[CF_t = CF_{\\text{start}} (1 + g)^{(t - \\text{start})}\\] where: \\[g = \\dfrac{\\text{rate}}{100}\\] fill_arithmetic(start_period, end_period, start_amt, increase_amt) Creates arithmetic growth cashflows. Cashflows follow: \\[CF_t = CF_{\\text{start}} + k (t - \\text{start})\\] where: \\(k\\) is the per-period increase amount. Present value Flat-rate PV pv(interest) computes: \\[PV = \\sum_{t=0}^{n} CF_t (1 + i)^{-t}\\] where: \\[i = \\dfrac{\\text{interest}}{100}\\] Annual compounding is assumed. Perpetuity tail PV pv_perpetuity(interest) computes the present value up to \\(n_{\\text{periods}}\\) and then adds a perpetuity tail based on the final cashflow: \\[PV = \\sum_{t=0}^{n} CF_t (1 + i)^{-t} + \\left(\\dfrac{CF_n}{i}\\right)(1 + i)^{-n}\\] This assumes the final cashflow repeats forever beyond the last period. Curve-discounted PV pv_df(curve) discounts each cashflow using spot discount factors from a Yield curve: \\[PV = CF_0 + \\sum_{t=1}^{n} CF_t \\cdot DF(t)\\] where \\(DF(t)\\) is computed by Yield.discount_factor(t) .","title":"Cashflows"},{"location":"api/cashflows/#cashflows","text":"This module provides a simple cash flow stream object for building and valuing cashflows over discrete periods. A CashFlowStream stores cashflows cf[t] for t = 0..n_periods and supports: setting cashflows by period filling common cashflow patterns (level, linear, geometric, arithmetic) present value using a flat interest rate present value using a spot yield curve ( Yield ) discount factors optional perpetuity tail valuation at the final period","title":"Cashflows"},{"location":"api/cashflows/#quick-start","text":"","title":"Quick start"},{"location":"api/cashflows/#create-a-level-cashflow-stream-and-compute-pv-at-a-flat-rate","text":"from fixed_income import CashFlowStream cfs = CashFlowStream(n_periods=5) cfs.fill(100) # 100 each period (t=1..5) cfs.set_period(0, -450) # initial outflow at t=0 pv = cfs.pv(interest=5.0) # 5% flat annual rate print(pv)","title":"Create a level cashflow stream and compute PV at a flat rate"},{"location":"api/cashflows/#build-a-linear-cashflow-stream-eg-100-200","text":"from fixed_income import CashFlowStream cfs = CashFlowStream(10) cfs.fill_linear( start_period=1, end_period=10, start_amt=100, end_amt=200 ) print(cfs.pv(interest=4.0))","title":"Build a linear cashflow stream (e.g. 100 \u2192 200)"},{"location":"api/cashflows/#use-a-yield-curve-for-discounting","text":"from fixed_income import Yield, CashFlowStream curve = Yield(10) curve.set_flat_rate(1, 10, 4.0) # 4% flat spot curve cfs = CashFlowStream(10) cfs.fill(100) cfs.set_period(0, -900) pv = cfs.pv_df(curve) print(pv)","title":"Use a yield curve for discounting"},{"location":"api/cashflows/#perpetuity-tail-after-the-final-period","text":"from fixed_income import CashFlowStream cfs = CashFlowStream(5) cfs.fill(50) cfs.set_period(0, -800) pv = cfs.pv_perpetuity(interest=6.0) print(pv)","title":"Perpetuity tail after the final period"},{"location":"api/cashflows/#notes","text":"Cashflows are stored for periods \\(t = 0 \\dots n_{\\text{periods}}\\) . \\(t = 0\\) is the valuation time (often an initial investment or price). \\(t \\ge 1\\) are future cashflows. Period indexing is 1-based for future periods, consistent with the yield curve module. All fill methods write cashflows into the internal array. If any period required for valuation is None , valuation will raise an error.","title":"Notes"},{"location":"api/cashflows/#cashflow-builders","text":"","title":"Cashflow builders"},{"location":"api/cashflows/#set_periodperiod-cashflow","text":"Sets a single cashflow at a specific period.","title":"set_period(period, cashflow)"},{"location":"api/cashflows/#fillcashflow","text":"Fills every period \\(t = 1 \\dots n_{\\text{periods}}\\) with the same cashflow amount.","title":"fill(cashflow)"},{"location":"api/cashflows/#fill_linearstart_period-end_period-start_amt-end_amt","text":"Creates a linear ramp from start_amt to end_amt over the specified range (inclusive). Cashflows follow: \\[CF_t = CF_{\\text{start}} + m (t - \\text{start})\\] where: \\[m = \\dfrac{CF_{\\text{end}} - CF_{\\text{start}}}{\\text{end} - \\text{start}}\\]","title":"fill_linear(start_period, end_period, start_amt, end_amt)"},{"location":"api/cashflows/#fill_geometricstart_period-end_period-start_amt-rate","text":"Creates geometric growth cashflows. rate is entered as a percent (e.g. 3.0 means 3%). Cashflows follow: \\[CF_t = CF_{\\text{start}} (1 + g)^{(t - \\text{start})}\\] where: \\[g = \\dfrac{\\text{rate}}{100}\\]","title":"fill_geometric(start_period, end_period, start_amt, rate)"},{"location":"api/cashflows/#fill_arithmeticstart_period-end_period-start_amt-increase_amt","text":"Creates arithmetic growth cashflows. Cashflows follow: \\[CF_t = CF_{\\text{start}} + k (t - \\text{start})\\] where: \\(k\\) is the per-period increase amount.","title":"fill_arithmetic(start_period, end_period, start_amt, increase_amt)"},{"location":"api/cashflows/#present-value","text":"","title":"Present value"},{"location":"api/cashflows/#flat-rate-pv","text":"pv(interest) computes: \\[PV = \\sum_{t=0}^{n} CF_t (1 + i)^{-t}\\] where: \\[i = \\dfrac{\\text{interest}}{100}\\] Annual compounding is assumed.","title":"Flat-rate PV"},{"location":"api/cashflows/#perpetuity-tail-pv","text":"pv_perpetuity(interest) computes the present value up to \\(n_{\\text{periods}}\\) and then adds a perpetuity tail based on the final cashflow: \\[PV = \\sum_{t=0}^{n} CF_t (1 + i)^{-t} + \\left(\\dfrac{CF_n}{i}\\right)(1 + i)^{-n}\\] This assumes the final cashflow repeats forever beyond the last period.","title":"Perpetuity tail PV"},{"location":"api/cashflows/#curve-discounted-pv","text":"pv_df(curve) discounts each cashflow using spot discount factors from a Yield curve: \\[PV = CF_0 + \\sum_{t=1}^{n} CF_t \\cdot DF(t)\\] where \\(DF(t)\\) is computed by Yield.discount_factor(t) .","title":"Curve-discounted PV"},{"location":"api/curves/","text":"Curves This module provides a simple spot yield curve object for discounting cashflows by period. The curve stores spot rates r[t] (as decimals) for t = 1..n_periods and exposes: setting individual spot rates building common shapes (flat, linear) discount factor calculation parallel curve shocks (basis-point shifts) for DV01-style risk Quick start Create a flat curve and compute discount factors from fixed_income import Yield curve = Yield(n_periods=10) curve.set_flat_rate(start_period=1, end_period=10, rate=4.0) # 4% flat df_1y = curve.discount_factor(1) df_5y = curve.discount_factor(5) print(df_1y, df_5y) Create a linear curve (e.g 3% -> 5%) curve = Yield(10) curve.set_linear_rate( start_period=1, end_period=10, start_rate=3.0, end_rate=5.0 ) print(curve.discount_factor(10)) Parallel Shifts curve = Yield(10) curve.set_flat_rate(1, 10, 4.0) curve_up = curve.shift(1.0) # +1 bp (0.01%) curve_dn = curve.shift(-1.0) # -1 bp Notes Rates are entered as percent values (e.g. 4.0 means 4%) and are stored internally as decimals (e.g. 0.04 ). Period indexing is 1-based . Period 0 is not used for curve rates and is reserved for valuation time. The discount factor for period \\( t \\) is computed using annual compounding : \\[ DF(t) = (1 + r_t)^{-t} \\] where: \\( r_t \\) is the spot rate for period \\( t \\) \\( t \\) is the time in periods","title":"Curves"},{"location":"api/curves/#curves","text":"This module provides a simple spot yield curve object for discounting cashflows by period. The curve stores spot rates r[t] (as decimals) for t = 1..n_periods and exposes: setting individual spot rates building common shapes (flat, linear) discount factor calculation parallel curve shocks (basis-point shifts) for DV01-style risk","title":"Curves"},{"location":"api/curves/#quick-start","text":"","title":"Quick start"},{"location":"api/curves/#create-a-flat-curve-and-compute-discount-factors","text":"from fixed_income import Yield curve = Yield(n_periods=10) curve.set_flat_rate(start_period=1, end_period=10, rate=4.0) # 4% flat df_1y = curve.discount_factor(1) df_5y = curve.discount_factor(5) print(df_1y, df_5y)","title":"Create a flat curve and compute discount factors"},{"location":"api/curves/#create-a-linear-curve-eg-3-5","text":"curve = Yield(10) curve.set_linear_rate( start_period=1, end_period=10, start_rate=3.0, end_rate=5.0 ) print(curve.discount_factor(10))","title":"Create a linear curve (e.g 3% -&gt; 5%)"},{"location":"api/curves/#parallel-shifts","text":"curve = Yield(10) curve.set_flat_rate(1, 10, 4.0) curve_up = curve.shift(1.0) # +1 bp (0.01%) curve_dn = curve.shift(-1.0) # -1 bp","title":"Parallel Shifts"},{"location":"api/curves/#notes","text":"Rates are entered as percent values (e.g. 4.0 means 4%) and are stored internally as decimals (e.g. 0.04 ). Period indexing is 1-based . Period 0 is not used for curve rates and is reserved for valuation time. The discount factor for period \\( t \\) is computed using annual compounding : \\[ DF(t) = (1 + r_t)^{-t} \\] where: \\( r_t \\) is the spot rate for period \\( t \\) \\( t \\) is the time in periods","title":"Notes"},{"location":"api/instruments/","text":"Instruments This module contains basic fixed-income instruments built on top of the CashFlowStream and Yield curve utilities. Currently implemented: Bond : level-coupon bond with redemption value, pricing, cashflow schedule, amortization table, duration, and DV01. Bond A Bond is defined by: face : coupon face amount (used to compute coupon payments) redemption : principal paid at maturity (e.g., par value) coupon_rate : annual coupon rate in percent (e.g. 5.0 means 5%) maturity : number of periods to maturity Cashflows The bond pays a level coupon each period and returns redemption at maturity. Coupon per period: \\[ C = \\frac{\\text{face} \\cdot \\text{coupon_rate}}{100} \\] Cashflow at time \\( t \\) : For \\( t = 1, \\dots, n-1 \\) : \\( CF_t = C \\) For \\( t = n \\) : \\( CF_n = C + \\text{redemption} \\) Quick start Price with a flat yield from fixed_income import Bond bond = Bond(face=100, redemption=100, coupon_rate=5.0, maturity=10) price = bond.price(interest=4.0) # 4% flat yield print(price) Price with a yield curve (discount factors) from fixed_income import Yield, Bond curve = Yield(10) curve.set_flat_rate(1, 10, 4.0) bond = Bond(face=100, redemption=100, coupon_rate=5.0, maturity=10) price = bond.price_by_df(curve) print(price) View the cashflow schedule df = bond.cashflow() print(df) ** TO DO ADD a photo of DataFrame ** Pricing Flat-rate pricing price(interest) discounts the coupons and redemption at a constant rate \\(i\\) (entered as a percent). \\[ P = C \\cdot \\frac{1 - (1 + i)^{-n}}{i} + \\text{redemption} \\cdot (1 + i)^{-n} \\] where: \\[ i = \\frac{\\text{interest}}{100} \\] \\[ n = \\text{maturity} \\] \\[ C = \\text{coupon per period} \\] Note: this assumes \\(i > 0\\) . If you plan to support \\(i = 0\\) , that case should be handled separately. Curve-based pricing price_by_df(curve) uses spot discount factors from a Yield curve: \\[ P = \\sum_{t=1}^{n-1} C \\cdot DF(t) + (C + \\text{redemption}) \\cdot DF(n) \\] where: \\[ DF(t) = \\text{Yield.discount_factor}(t) \\] Amortization table amortiztion(yield_rate, purchase_price=None) produces an effective-interest amortization schedule (premium/discount amortization). Definitions \\[ y = \\frac{\\text{yield_rate}}{100} \\] Book value at \\(t = 0\\) : \\[ BV_0 = \\begin{cases} \\text{purchase_price}, & \\text{if provided} \\\\ \\text{model price}, & \\text{otherwise} \\end{cases} \\] Per-period calculations For each period \\(t = 1, \\dots, n\\) : Interest income \\[ \\text{Interest}_t = BV_{t-1} \\cdot y \\] Payment \\[ \\text{Payment}_t = \\begin{cases} C, & t < n \\\\ C + \\text{redemption}, & t = n \\end{cases} \\] Amortization \\[ \\text{Amort}_t = \\text{Interest}_t - C \\] Book value update \\[ BV_t = BV_{t-1} + \\text{Amort}_t \\] The returned DataFrame includes the following columns: period payment interest_income premium_discount_amort book_value Duration duration(curve) computes the Macaulay duration (in periods) using curve-based discounting: \\[ D = \\frac{\\sum_{t=1}^{n} t \\cdot PV(CF_t)}{P} \\] where: \\[ P = \\text{price_by_df(curve)} \\] \\[ PV(CF_t) = CF_t \\cdot DF(t) \\] Expanded form \\[ D = \\frac{ \\sum_{t=1}^{n-1} t \\cdot (C \\cdot DF(t)) + n \\cdot \\big((C + \\text{redemption}) \\cdot DF(n)\\big) }{ P } \\] DV01 (parallel shift) dv01(curve, bp=1.0) estimates DV01 using a symmetric difference and a parallel curve shift. bp is in basis points (e.g. 1.0 means 1 bp = 0.01%) Let: \\[ P_{+} = \\text{price under upward shift} \\] \\[ P_{-} = \\text{price under downward shift} \\] Then: \\[ DV01 \\approx \\frac{P_{-} - P_{+}}{2} \\] This returns the approximate price change for a 1 bp move (if bp = 1.0 ).","title":"Instruments"},{"location":"api/instruments/#instruments","text":"This module contains basic fixed-income instruments built on top of the CashFlowStream and Yield curve utilities. Currently implemented: Bond : level-coupon bond with redemption value, pricing, cashflow schedule, amortization table, duration, and DV01.","title":"Instruments"},{"location":"api/instruments/#bond","text":"A Bond is defined by: face : coupon face amount (used to compute coupon payments) redemption : principal paid at maturity (e.g., par value) coupon_rate : annual coupon rate in percent (e.g. 5.0 means 5%) maturity : number of periods to maturity","title":"Bond"},{"location":"api/instruments/#cashflows","text":"The bond pays a level coupon each period and returns redemption at maturity. Coupon per period: \\[ C = \\frac{\\text{face} \\cdot \\text{coupon_rate}}{100} \\] Cashflow at time \\( t \\) : For \\( t = 1, \\dots, n-1 \\) : \\( CF_t = C \\) For \\( t = n \\) : \\( CF_n = C + \\text{redemption} \\)","title":"Cashflows"},{"location":"api/instruments/#quick-start","text":"","title":"Quick start"},{"location":"api/instruments/#price-with-a-flat-yield","text":"from fixed_income import Bond bond = Bond(face=100, redemption=100, coupon_rate=5.0, maturity=10) price = bond.price(interest=4.0) # 4% flat yield print(price)","title":"Price with a flat yield"},{"location":"api/instruments/#price-with-a-yield-curve-discount-factors","text":"from fixed_income import Yield, Bond curve = Yield(10) curve.set_flat_rate(1, 10, 4.0) bond = Bond(face=100, redemption=100, coupon_rate=5.0, maturity=10) price = bond.price_by_df(curve) print(price)","title":"Price with a yield curve (discount factors)"},{"location":"api/instruments/#view-the-cashflow-schedule","text":"df = bond.cashflow() print(df) ** TO DO ADD a photo of DataFrame **","title":"View the cashflow schedule"},{"location":"api/instruments/#pricing","text":"","title":"Pricing"},{"location":"api/instruments/#flat-rate-pricing","text":"price(interest) discounts the coupons and redemption at a constant rate \\(i\\) (entered as a percent). \\[ P = C \\cdot \\frac{1 - (1 + i)^{-n}}{i} + \\text{redemption} \\cdot (1 + i)^{-n} \\] where: \\[ i = \\frac{\\text{interest}}{100} \\] \\[ n = \\text{maturity} \\] \\[ C = \\text{coupon per period} \\] Note: this assumes \\(i > 0\\) . If you plan to support \\(i = 0\\) , that case should be handled separately.","title":"Flat-rate pricing"},{"location":"api/instruments/#curve-based-pricing","text":"price_by_df(curve) uses spot discount factors from a Yield curve: \\[ P = \\sum_{t=1}^{n-1} C \\cdot DF(t) + (C + \\text{redemption}) \\cdot DF(n) \\] where: \\[ DF(t) = \\text{Yield.discount_factor}(t) \\]","title":"Curve-based pricing"},{"location":"api/instruments/#amortization-table","text":"amortiztion(yield_rate, purchase_price=None) produces an effective-interest amortization schedule (premium/discount amortization).","title":"Amortization table"},{"location":"api/instruments/#definitions","text":"\\[ y = \\frac{\\text{yield_rate}}{100} \\] Book value at \\(t = 0\\) : \\[ BV_0 = \\begin{cases} \\text{purchase_price}, & \\text{if provided} \\\\ \\text{model price}, & \\text{otherwise} \\end{cases} \\]","title":"Definitions"},{"location":"api/instruments/#per-period-calculations","text":"For each period \\(t = 1, \\dots, n\\) : Interest income \\[ \\text{Interest}_t = BV_{t-1} \\cdot y \\] Payment \\[ \\text{Payment}_t = \\begin{cases} C, & t < n \\\\ C + \\text{redemption}, & t = n \\end{cases} \\] Amortization \\[ \\text{Amort}_t = \\text{Interest}_t - C \\] Book value update \\[ BV_t = BV_{t-1} + \\text{Amort}_t \\] The returned DataFrame includes the following columns: period payment interest_income premium_discount_amort book_value","title":"Per-period calculations"},{"location":"api/instruments/#duration","text":"duration(curve) computes the Macaulay duration (in periods) using curve-based discounting: \\[ D = \\frac{\\sum_{t=1}^{n} t \\cdot PV(CF_t)}{P} \\] where: \\[ P = \\text{price_by_df(curve)} \\] \\[ PV(CF_t) = CF_t \\cdot DF(t) \\]","title":"Duration"},{"location":"api/instruments/#expanded-form","text":"\\[ D = \\frac{ \\sum_{t=1}^{n-1} t \\cdot (C \\cdot DF(t)) + n \\cdot \\big((C + \\text{redemption}) \\cdot DF(n)\\big) }{ P } \\]","title":"Expanded form"},{"location":"api/instruments/#dv01-parallel-shift","text":"dv01(curve, bp=1.0) estimates DV01 using a symmetric difference and a parallel curve shift. bp is in basis points (e.g. 1.0 means 1 bp = 0.01%) Let: \\[ P_{+} = \\text{price under upward shift} \\] \\[ P_{-} = \\text{price under downward shift} \\] Then: \\[ DV01 \\approx \\frac{P_{-} - P_{+}}{2} \\] This returns the approximate price change for a 1 bp move (if bp = 1.0 ).","title":"DV01 (parallel shift)"}]}